<!--
  Generated template for the GroupsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <header class="header_title">
			<div class="container">
				<div class="back_btn">
					<a (click)="back()"><i class="fa fa-arrow-left"></i></a>
				</div>
				<div class="page_title text-center">
					<h3>{{'groups' | translate}}</h3>
				</div>
				<!-- <div class="menu_btn text-right">
					<a href="#"><i class="fa fa-bars" style="color:#fff;font-size:18px"></i></a>
				</div> -->
			</div>
		</header>

</ion-header>



<ion-content >
  <section class="bg_grey full_vh pages">
			<div class="panel panel-theme">
				<ul class="nav nav-tabs flex-space-around">
					<li id="active1" class="active"><a (click)="getGroups('recommend','', this.filter, userId, 1)" data-toggle="tab" href="#tab-content-1"> {{'all-groups' | translate}}</a></li>
					<li id="active2"><a (click)="getGroups('member', '', this.filter, userId, 1)" data-toggle="tab" href="#tab-content-2"> {{'groups-member' | translate}}</a></li>
          <li id="active3"><a (click)="getGroups('yours','',this.filter, userId, 1)" data-toggle="tab" href="#tab-content-3"> {{'my-groups' | translate}}</a></li>
				</ul>
			</div>
			<div class="container">
				<form class="search-form search-filter mt-10 mb-30">
					<div class="input-group">
						<input type="text" class="form-control" [(ngModel)]="search" [ngModelOptions]="{ standalone :true}" placeholder="{{'search-here' | translate}}">

						<select class="form-control" [(ngModel)]="filter" [ngModelOptions]="{ standalone :true}" (ngModelChange)="getGroups(this.type, '' ,this.filter, userId, 1)">
							<option value="all">{{'all' | translate}}</option>
							<option value="top">{{'top' | translate}}</option>
							<option value="featured">{{'featured' | translate}}</option>
						</select>
						<div class="input-group-btn">

							<button (click)="getGroups(this.type, this.search, this.filter, userId, 1)" type="submit" class="btn btn-default">
								<i class="fa fa-search"></i>
							</button>
						</div>
					</div>
				</form>
				<div class="tab-content">
					<div id="tab-content-1" class="tab-pane fade in active">
            <div id="noGroups1" style="display: none;" class="box-content alert alert-danger">{{'no-groups-found' | translate}}</div>
						<div class="row thumbnails">
							<div class="col-xs-6" *ngFor="let group of groups; let i = index;">
							    <div class="thumbnail">

							    	<a (click)="groupPage(group)" href="#"><img src="{{ group.logo }}" alt=""></a>
								    <div class="caption">
								        <h3><a (click)="groupPage(group)" href="#">{{ group.title }}</a></h3>
								        <p>{{ group.description }}</p>
								        <a (click)="joinGroup(group.id, 0, userId, i)" href="#" *ngIf="group.is_member == false" class="btn btn-default btn-sm"><i class="fa fa-plus"></i> {{'join' | translate}}</a>
                        <a (click)="joinGroup(group.id, 1, userId, i)" style="color: #488aff" href="#" *ngIf="group.is_member == true" class="btn btn-default btn-sm"><i class="fa fa-check-circle"></i> {{'leave-group' | translate}}</a>
								    </div>
							    </div>
							</div>
						</div>
            <a id="all" (click)="getGroups(this.type, this.search, this.filter, userId, page + 1)" href="#" class="btn btn-default btn-block">{{'view-more' | translate}}</a>
					</div>
					<div id="tab-content-2" class="tab-pane fade">
            <div id="noGroups2" style="display: none;" class="box-content alert alert-danger">{{'no-groups-found' | translate}}</div>
						<div class="row thumbnails">
							<div class="col-xs-6" *ngFor="let group of groups; let i = index;">
							    <div class="thumbnail">

							    	<a (click)="groupPage(group)" href="#"><img src="{{ group.logo }}" alt=""></a>
								    <div class="caption">
								        <h3><a (click)="groupPage(group)" href="#">{{ group.title }}</a></h3>
								        <p>{{ group.description }}</p>
                        <a (click)="joinGroup(group.id, 0, userId, i)" href="#" *ngIf="group.is_member == false" class="btn btn-default btn-sm"><i class="fa fa-plus"></i> {{'join' | translate}}</a>
                        <a (click)="joinGroup(group.id, 1, userId, i)" style="color: #488aff" href="#" *ngIf="group.is_member == true" class="btn btn-default btn-sm"><i class="fa fa-check-circle"></i> {{'leave-group' | translate}}</a>
								    </div>
							    </div>
							</div>
						</div>
            <a id="member" (click)="getGroups(this.type, this.search, this.filter, userId, page + 1)" href="#" class="btn btn-default btn-block">{{'view-more' | translate}}</a>
					</div>
          <div id="tab-content-3" class="tab-pane fade">
            <div id="noGroups3" style="display: none;" class="box-content alert alert-danger">{{'no-groups-found' | translate}}</div>
						<div class="row thumbnails">
							<div class="col-xs-6" *ngFor="let group of groups; let i = index;">
							    <div class="thumbnail">

							    	<a (click)="groupPage(group)" href="#"><img src="{{ group.logo }}" alt=""></a>
								    <div class="caption">
								        <h3><a (click)="groupPage(group)" href="#">{{ group.title }}</a></h3>
								        <p>{{ group.description }}</p>
                        <a (click)="joinGroup(group.id, 0, userId, i)" href="#" *ngIf="group.is_member == false" class="btn btn-default btn-sm"><i class="fa fa-plus"></i> {{'join' | translate}}</a>
                        <a (click)="joinGroup(group.id, 1, userId, i)" style="color: #488aff" href="#" *ngIf="group.is_member == true" class="btn btn-default btn-sm"><i class="fa fa-check-circle"></i> {{'leave-group' | translate}}</a>
								    </div>
							    </div>
							</div>
						</div>
            <a id="my" (click)="getGroups(this.type, this.search, this.filter, userId, page + 1)" href="#" class="btn btn-default btn-block">{{'view-more' | translate}}</a>
					</div>


				</div>
			</div>
      <div class="add-btn">
				<a (click)="newGroup()" href="#"><i class="fa fa-plus"></i></a>
			</div>

		</section>


</ion-content>
